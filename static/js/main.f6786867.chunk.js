(this["webpackJsonpcrusade-tracker"]=this["webpackJsonpcrusade-tracker"]||[]).push([[0],{135:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/swords.476334db.svg"},162:function(e,t,a){},169:function(e,t,a){var n={"./Dedicated Transport.svg":170,"./Elites.svg":171,"./Fast Attack.svg":172,"./Flyer.svg":173,"./Fortification.svg":174,"./HQ.svg":175,"./Heavy Support.svg":176,"./Lord of War.svg":177,"./Troops.svg":178,"./swords.svg":135};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=169},170:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Dedicated Transport.5102f531.svg"},171:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Elites.331fe7fa.svg"},172:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Fast Attack.c7ad68aa.svg"},173:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Flyer.a877c2eb.svg"},174:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Fortification.4bd10408.svg"},175:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/HQ.f47f328b.svg"},176:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Heavy Support.bdc82124.svg"},177:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Lord of War.d4c85038.svg"},178:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Troops.f345a6fd.svg"},182:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(37),r=(a(161),a(162),a(209)),i=a(197),s=a(203),l=a(53),o=a(7),u=a(208),d=a(211),j=a(199),b=a(207),h=a(205),O=a(206),p=[{value:"Imperium",text:"Imperium"},{value:"Chaos",text:"Chaos"},{value:"Aeldari",text:"Aeldari"},{value:"Tyranids",text:"Tyranids"},{value:"Orks",text:"Orks"},{value:"Necrons",text:"Necrons"},{value:"T'au Empire",text:"T'au Empire"}],x=a(10),f=a(22),m=a(88),g=Object(f.b)(),y=g.getInitialState(),v=Object(f.c)({name:"lists",initialState:y,reducers:{saveList:g.upsertOne,deleteList:g.removeOne,updateList:g.updateOne}}),w=v.actions,C=w.saveList,S=w.deleteList,T=w.updateList,I=v.reducer,k=g.getSelectors((function(e){return e.lists})),R=k.selectAll,A=k.selectById,B=(Object(m.a)(R,(function(e){return e.map((function(e){return e.id}))})),Object(f.b)()),N=B.getInitialState(),F=Object(f.c)({name:"units",initialState:N,reducers:{saveUnit:B.upsertOne,deleteUnit:B.removeOne,deleteManyUnits:B.removeMany,updateUnit:B.updateOne}}),P=F.actions,q=P.saveUnit,D=P.deleteUnit,L=P.deleteManyUnits,H=P.updateUnit,U=F.reducer,E=B.getSelectors((function(e){return e.units})),V=E.selectAll,G=E.selectById,M=(Object(m.a)(V,(function(e){return e.map((function(e){return e.id}))})),Object(m.a)(V,A,(function(e,t){return e.filter((function(e){return e.list===t.id}))}))),z=Object(m.a)(M,(function(e){return e.map((function(e){return e.id}))})),W=Object(f.b)(),X=W.getInitialState(),Y=Object(f.c)({name:"requisitions",initialState:X,reducers:{saveRequisition:W.upsertOne,deleteRequisition:W.removeOne,deleteManyRequisitions:W.removeMany}}),K=Y.actions,Q=K.saveRequisition,J=K.deleteRequisition,_=(K.deleteManyRequisitions,Y.reducer),Z=W.getSelectors((function(e){return e.requisitions})),$=Z.selectAll,ee=(Z.selectById,Object(m.a)($,(function(e){return e.map((function(e){return e.id}))})),Object(m.a)($,A,(function(e,t){return e.filter((function(e){return e.list===t.id}))}))),te=(Object(m.a)(ee,(function(e){return e.map((function(e){return e.id}))})),Object(f.c)({name:"pages",initialState:{page:"FRONT",editId:"",currentListId:"",battle:"",help:!0},reducers:{changePage:function(e,t){e.page=t.payload},editUnit:function(e,t){e.page=t.payload.page,e.editId=t.payload.editId},editList:function(e,t){e.page=t.payload.page,e.currentListId=t.payload.currentListId},resolveBattle:function(e,t){e.page=t.payload.page,e.battle=t.payload.battle},toggleHelp:function(e,t){e.help=!e.help}}})),ae=te.actions,ne=ae.changePage,ce=ae.editUnit,re=ae.editList,ie=ae.resolveBattle,se=ae.toggleHelp,le=te.reducer,oe=a(200),ue=a(204),de=a(1),je={paddingBottom:10,paddingTop:10},be=function(){var e=Object(x.c)((function(e){return e.pages.currentListId})),t=Object(x.c)((function(t){return A(t,e)})).supplyLimit,a=Object(x.c)((function(t){return ee(t,e)})),c=Object(n.useState)(!1),s=Object(o.a)(c,2),d=s[0],b=s[1],h=Object(n.useState)(""),p=Object(o.a)(h,2),f=p[0],m=p[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),v=y[0],w=y[1],C=Object(n.useState)(0),S=Object(o.a)(C,2),I=S[0],k=S[1],R=Object(x.b)();return Object(de.jsxs)(u.a,{children:[Object(de.jsx)(r.a,{children:"Requisition History"}),Object(de.jsx)(i.a,{text:!0,textAlign:"left",children:Object(de.jsx)(oe.a,{divided:!0,style:je,children:a.map((function(a){return Object(de.jsxs)(oe.a.Item,{id:a.id,children:[Object(de.jsx)(oe.a.Content,{floated:"right",children:Object(de.jsx)(l.a,{size:"large",name:"cancel",link:!0,onClick:function(){return function(a){"Increased Supply"!==a.reqName&&"Increased Supply (Free)"!==a.reqName||R(T({id:e,changes:{supplyLimit:t-5}})),R(J(a.id))}(a)}})}),Object(de.jsxs)(oe.a.Content,{children:[Object(de.jsxs)(oe.a.Header,{children:[a.reqName," for ",a.unitName]}),Object(de.jsxs)(oe.a.Description,{children:["Cost: ",a.cost," RP"]})]})]},a.id)}))})}),e.rewards>0?Object(de.jsx)(O.a,{content:"Claim Supply Reward",onClick:function(){var a={id:Object(ue.a)(),reqName:"Increased Supply (Free)",unitName:"Crusade Force",cost:0,list:e};R(T({id:e,changes:{supplyLimit:t+5,rewards:parseInt(e.rewards)-1}})),R(Q(a))}}):Object(de.jsx)(O.a,{content:"Increase Supply Limit",onClick:function(){var a={id:Object(ue.a)(),reqName:"Increased Supply",unitName:"Crusade Force",cost:1,list:e};R(T({id:e,changes:{supplyLimit:t+5}})),R(Q(a))}}),Object(de.jsx)(O.a,{content:"Add Other Requisition",onClick:function(){return b(!d)}}),d&&Object(de.jsx)(j.a,{size:"small",onSubmit:function(e){return e.preventDefault()},children:Object(de.jsxs)(j.a.Group,{style:je,inline:!0,children:[Object(de.jsx)(j.a.Input,{width:6,label:"Add New Requisition",placeholder:"Requisition Name",onChange:function(e){return m(e.target.value)}}),Object(de.jsx)(j.a.Input,{width:6,label:"Unit Name",placeholder:"if required",onChange:function(e){return w(e.target.value)}}),Object(de.jsx)(j.a.Input,{width:2,label:"Cost",onChange:function(e){return k(e.target.value)},type:"number"}),Object(de.jsx)(j.a.Button,{onClick:function(){var t={id:Object(ue.a)(),reqName:f,unitName:v||"None",cost:I,list:e};R(Q(t)),b(!1)},children:"Add"})]})})]})},he=function(e){var t=e.listId,a=Object(x.b)(),c=Object(x.c)((function(e){return A(e,t)})),r=c.id,i=c.supplyLimit,s=c.requisition,l=c.battlesFought,f=c.battlesWon,m=Object(x.c)((function(e){return M(e,t)})),g=Object(x.c)((function(e){return ee(e,t)})).reduce((function(e,t){return e+parseInt(t.cost)}),0),y=s-g,v=m.reduce((function(e,t){return e+parseInt(t.power)}),0),w=m.reduce((function(e,t){return e+parseInt(t.cp)}),0),S=Object(n.useState)(c.forceName),T=Object(o.a)(S,2),I=T[0],k=T[1],R=Object(n.useState)(c.playerName),B=Object(o.a)(R,2),N=B[0],F=B[1],P=Object(n.useState)(c.faction),q=Object(o.a)(P,2),D=q[0],L=q[1],H=Object(n.useState)(c.notes),U=Object(o.a)(H,2),E=U[0],V=U[1],G=Object(n.useState)(!1),z=Object(o.a)(G,2),W=z[0],X=z[1],Y=v>i?"red":"black";return Object(n.useEffect)((function(){a(C({id:r,supplyLimit:i,requisition:s,battlesFought:l,battlesWon:f,forceName:I,playerName:N,faction:D,supplyTotal:v,crusadeTotal:w,notes:E}))}),[l,f,w,a,D,I,r,E,N,s,i,v]),Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(u.a,{children:Object(de.jsxs)(d.a,{stackable:!0,divided:!0,padded:!0,children:[Object(de.jsxs)(d.a.Row,{columns:2,stretched:!0,children:[Object(de.jsx)(d.a.Column,{children:Object(de.jsxs)(j.a,{children:[Object(de.jsx)(j.a.Input,{name:"playerName",label:"Player Name",placeholder:"Player Name",value:N,onChange:function(e){return F(e.target.value)}}),Object(de.jsx)(j.a.Input,{name:"forceName",label:"Force Name",placeholder:"Force Name",value:I,onChange:function(e){return k(e.target.value)}}),Object(de.jsx)(j.a.Select,{clearable:!0,name:"faction",label:"Crusade Faction",options:p,placeholder:"Select Faction",value:D,onChange:function(e,t){var a=t.value;return L(a)}})]})}),Object(de.jsxs)(d.a.Column,{children:[Object(de.jsxs)(b.a.Group,{size:"tiny",widths:"2",children:[Object(de.jsxs)(b.a,{children:[Object(de.jsx)(b.a.Label,{children:"Battles Fought"}),Object(de.jsx)(b.a.Value,{children:l})]}),Object(de.jsxs)(b.a,{children:[Object(de.jsx)(b.a.Label,{children:"Battles Won"}),Object(de.jsx)(b.a.Value,{children:f})]}),Object(de.jsxs)(b.a,{children:[Object(de.jsx)(b.a.Label,{children:"Supply Limit"}),Object(de.jsx)(b.a.Value,{children:i})]}),Object(de.jsxs)(b.a,{children:[Object(de.jsx)(b.a.Label,{children:"Requisition Points"}),Object(de.jsx)(b.a.Value,{children:y})]}),Object(de.jsxs)(b.a,{color:Y,children:[Object(de.jsx)(b.a.Label,{children:"Supply Used"}),Object(de.jsx)(b.a.Value,{children:v})]}),Object(de.jsxs)(b.a,{children:[Object(de.jsx)(b.a.Label,{children:"Crusade Points"}),Object(de.jsx)(b.a.Value,{children:w})]})]}),v>i&&Object(de.jsx)(h.a,{warning:!0,attached:"bottom",content:"You have exceeded your current supply limit"}),y<0&&Object(de.jsx)(h.a,{warning:!0,attached:"bottom",content:"You have spent too many Requisition Points."})]})]}),Object(de.jsx)(d.a.Row,{centered:!0,columns:"1",children:Object(de.jsx)(j.a,{children:Object(de.jsx)(j.a.TextArea,{label:"Crusade Goals, Information, and Notable Victories",placeholder:"Add narrative information, personal goals, notable battles, vendettas and grudges, or anything else here",value:E,onChange:function(e){return V(e.target.value)}})})}),Object(de.jsxs)(d.a.Row,{centered:!0,children:[Object(de.jsx)(O.a,{content:"Return to Load List",onClick:function(){a(ne("FRONT"))}}),Object(de.jsx)(O.a,{content:W?"Hide Requisition Log":"Show Requsition Log",onClick:function(){return X(!W)}})]})]})}),W&&Object(de.jsx)(be,{})]})},Oe=a(198),pe=[{value:"HQ",text:"HQ"},{value:"Troops",text:"Troops"},{value:"Elites",text:"Elites"},{value:"Fast Attack",text:"Fast Attack"},{value:"Flyer",text:"Flyer"},{value:"Heavy Support",text:"Heavy Support"},{value:"Fortification",text:"Fortification"},{value:"Dedicated Transport",text:"Dedicated Transport"},{value:"Lord of War",text:"Lord of War"}],xe=function(e){var t;switch(!0){case e<6:t="Battle-Ready";break;case e<16:t="Bloodied";break;case e<31:t="Battle-Hardened";break;case e<51:t="Heroic";break;case e>=51:t="Legendary";break;default:t=null}return t},fe=function(e){var t=e.unitId,a=Object(x.c)((function(e){return e.pages.currentListId})),c=Object(ue.a)(),r=Object(x.c)((function(e){return G(e,t)})),i=t?r.id:c,s=Object(n.useState)(t?r.name:""),l=Object(o.a)(s,2),b=l[0],p=l[1],f=Object(n.useState)(t?r.role:""),m=Object(o.a)(f,2),g=m[0],y=m[1],v=Object(n.useState)(t?r.type:""),w=Object(o.a)(v,2),C=w[0],S=w[1],T=Object(n.useState)(!!t&&r.psyker),I=Object(o.a)(T,2),k=I[0],R=I[1],A=Object(n.useState)(!!t&&r.character),B=Object(o.a)(A,2),N=B[0],F=B[1],P=Object(n.useState)(!!t&&r.specialist),D=Object(o.a)(P,2),L=D[0],H=D[1],U=Object(n.useState)(t?r.equipment:""),E=Object(o.a)(U,2),V=E[0],M=E[1],z=Object(n.useState)(t?r.keywords:""),W=Object(o.a)(z,2),X=W[0],Y=W[1],K=Object(n.useState)(t?r.psychic:""),J=Object(o.a)(K,2),_=J[0],Z=J[1],$=Object(n.useState)(t?r.trait:""),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ce=Object(n.useState)(t?r.relic:""),re=Object(o.a)(ce,2),ie=re[0],se=re[1],le=Object(n.useState)(t?r.others:""),oe=Object(o.a)(le,2),je=oe[0],be=oe[1],he=Object(n.useState)(t?r.power:0),fe=Object(o.a)(he,2),me=fe[0],ge=fe[1],ye=Object(n.useState)(t?r.models:0),ve=Object(o.a)(ye,2),we=ve[0],Ce=ve[1],Se=Object(n.useState)(t?r.xp:0),Te=Object(o.a)(Se,2),Ie=Te[0],ke=Te[1],Re=Object(n.useState)(t?r.cp:0),Ae=Object(o.a)(Re,2),Be=Ae[0],Ne=Ae[1],Fe=Object(n.useState)(t?r.bh:""),Pe=Object(o.a)(Fe,2),qe=Pe[0],De=Pe[1],Le=Object(n.useState)(t?r.bs:""),He=Object(o.a)(Le,2),Ue=He[0],Ee=He[1],Ve=Object(n.useState)(t?r.notes:""),Ge=Object(o.a)(Ve,2),Me=Ge[0],ze=Ge[1],We=t?r.battlesFought:0,Xe=t?r.battlesSurvived:0,Ye=t?r.enemiesDestroyed:0,Ke=Object(n.useState)(!1),Qe=Object(o.a)(Ke,2),Je=Qe[0],_e=Qe[1],Ze=Object(x.b)(),$e=function(e,t){var n={id:Object(ue.a)(),reqTyp:e,cost:t,unit:b,list:a};Ze(Q(n))},et=function(){ie&&$e("Relic",1),te&&$e("Warlord Trait",1),L&&$e("Specialist Reinforcements",1),at()},tt=function(){Ze(ne("MAIN"))},at=function(){var e={id:i,name:b,role:g,type:C,equipment:V,psychic:_,trait:te,relic:ie,others:je,power:me,xp:Ie,cp:ie&&te?parseInt(Be)+2:ie||te?parseInt(Be)+1:Be,bs:Ue,bh:qe,notes:Me,list:a,models:we,keywords:X,psyker:k,character:N,specialist:L,battlesFought:We,battlesSurvived:Xe,enemiesDestroyed:Ye};Ze(q(e)),tt()};return Object(de.jsx)(u.a,{children:Object(de.jsx)(j.a,{onSubmit:function(e){return e.preventDefault()},children:Object(de.jsxs)(d.a,{stackable:!0,padded:!0,children:[Object(de.jsxs)(d.a.Row,{columns:2,children:[Object(de.jsxs)(d.a.Column,{children:[Object(de.jsx)(j.a.Input,{fluid:!0,label:"Unit Name",placeholder:"Unit Name",name:"name",value:b,onChange:function(e){return p(e.target.value)}}),Object(de.jsx)(j.a.Input,{fluid:!0,label:"Unit Type",placeholder:"Unit Type",name:"type",value:C,onChange:function(e){return S(e.target.value)}}),Object(de.jsx)(j.a.Select,{fluid:!0,clearable:!0,name:"role",label:"Unit Role",options:pe,value:g,placeholder:"Select unit role",onChange:function(e,t){var a=t.value;return y(a)}})]}),Object(de.jsxs)(d.a.Column,{children:[Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Input,{fluid:!0,label:"Power Rating",type:"number",min:"0",name:"power",value:me,onChange:function(e){return ge(e.target.value)}}),Object(de.jsx)(j.a.Input,{fluid:!0,label:"Model Count",type:"number",min:"0",name:"models",value:we,onChange:function(e){return Ce(e.target.value)}})]}),Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Input,{fluid:!0,label:"Crusade Points",type:"number",name:"cp",value:Be,onChange:function(e){return Ne(e.target.value)}}),Object(de.jsx)(j.a.Input,{fluid:!0,label:"Experience Points",type:"number",min:"0",name:"xp",value:Ie,onChange:function(e){return ke(e.target.value)}})]}),Object(de.jsx)(j.a.Input,{readOnly:!0,label:"Rank",value:xe(Ie)})]})]}),Object(de.jsx)(d.a.Row,{centered:!0,children:Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Checkbox,{checked:N,label:"Character",onChange:function(e,t){var a=t.checked;return F(a)}}),Object(de.jsx)(j.a.Checkbox,{checked:k,label:"Psyker",onChange:function(e,t){var a=t.checked;return R(a)}}),Object(de.jsx)(j.a.Checkbox,{checked:L,label:"Specialist",onChange:function(e,t){var a=t.checked;return H(a)}})]})}),L&&Object(de.jsx)(d.a.Row,{centered:!0,children:Object(de.jsx)(h.a,{color:"orange",compact:!0,children:"Enter the Stratagem Cost in the Crusade Points field and the upgrades given in the Upgrades field. This will also cost 1 Requisition Point."})}),N&&Object(de.jsx)(d.a.Row,{centered:!0,children:Object(de.jsxs)(d.a.Column,{textAlign:"center",children:[Object(de.jsx)(h.a,{color:"orange",compact:!0,children:"Adding a Relic or Warlord Trait will cost 1 Requisition Point and add one Crusade Point each"}),Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Input,{fluid:!0,label:"Warlord Trait",name:"trait",placeholder:"Add Warlord Trait",onChange:function(e){return ae(e.target.value)},value:te}),Object(de.jsx)(j.a.Input,{fluid:!0,label:"Relic",name:"relic",placeholder:"Add Relic",onChange:function(e){return se(e.target.value)},value:ie})]})]})}),Object(de.jsx)(d.a.Row,{children:Object(de.jsx)(d.a.Column,{children:Object(de.jsxs)(j.a.Group,{widths:"equal",children:[k&&Object(de.jsx)(j.a.TextArea,{fluid:"true",label:"Psychic Powers",name:"psychic",placeholder:"Add Psychic Powers",onChange:function(e){return Z(e.target.value)},value:_}),Object(de.jsx)(j.a.TextArea,{fluid:"true",label:"Equipment",name:"equipment",placeholder:"Add Equipment",onChange:function(e){return M(e.target.value)},value:V}),Object(de.jsx)(j.a.TextArea,{fluid:"true",label:"Selectable Keywords",name:"keywords",placeholder:"Add Selectable Keywords",onChange:function(e){return Y(e.target.value)},value:X}),Object(de.jsx)(j.a.TextArea,{fluid:"true",label:"Other Upgrades and Abilities",name:"others",placeholder:"Add Others",onChange:function(e){return be(e.target.value)},value:je})]})})}),Object(de.jsx)(d.a.Row,{columns:"2",centered:!0,children:Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.TextArea,{label:"Battle Honours",name:"bh",placeholder:"Add Battle Honours",onChange:function(e){return De(e.target.value)},value:qe}),Object(de.jsx)(j.a.TextArea,{label:"Battle Scars",name:"bs",placeholder:"Add Battle Scars",onChange:function(e){return Ee(e.target.value)},value:Ue})]})}),Object(de.jsx)(d.a.Row,{centered:!0,columns:"1",children:Object(de.jsx)(j.a.TextArea,{fluid:"true",label:"Notes and History",name:"notes",placeholder:"Add Notes, Achievements, History, and anything else you want to record here",onChange:function(e){return ze(e.target.value)},value:Me})}),Object(de.jsxs)(d.a.Row,{centered:!0,children:[Object(de.jsx)(O.a,{onClick:tt,children:"Back"}),Object(de.jsx)(O.a,{negative:!0,onClick:function(){p(""),y(""),ae(""),S(""),M(""),Y(""),se(""),De(""),Ee(""),ze(""),Ne(0),ke(0),ge(0),Z(""),be(""),R(!1),F(!1),Ce(0)},children:"Clear All"}),Object(de.jsx)(Oe.a,{content:"Please ensure that your unit has at least a name, role, and power rating.",open:Je,hideOnScroll:!0,trigger:Object(de.jsx)(O.a,{positive:!0,onClick:function(){""===b||""===g||""===me||0===me||"0"===me?_e(!0):t?at():et()},children:t?"Save Unit":"Add Unit"})})]})]})})})},me=a(202),ge=a(127),ye=a(145),ve=a(111),we=a(201),Ce=function(e){var t=e.id,c=Object(x.c)((function(e){return G(e,t)})),r=c.name,i=c.power,s=c.cp,l=c.type,u=c.role,j=c.character,b=c.psyker,h=xe(c.xp),p=Object(n.useState)(!1),f=Object(o.a)(p,2),m=f[0],g=f[1],y=Object(n.useState)(!1),v=Object(o.a)(y,2),w=v[0],C=v[1],S=a(169)("./".concat(u,".svg")).default,T=Object(x.b)();return Object(de.jsxs)(me.a,{raised:!0,children:[Object(de.jsxs)(me.a.Content,{children:[Object(de.jsx)(ye.a,{size:"mini",floated:"right",src:S,alt:"Unit Role Image",title:u}),Object(de.jsx)(me.a.Header,{textAlign:"left",children:r}),Object(de.jsx)(me.a.Meta,{textAlign:"left",children:l})]}),Object(de.jsx)(me.a.Content,{children:Object(de.jsx)(me.a.Description,{textAlign:"left",children:Object(de.jsxs)(oe.a,{children:[j&&Object(de.jsx)(oe.a.Item,{children:Object(de.jsx)(ve.a,{children:"Character"})}),b&&Object(de.jsx)(oe.a.Item,{children:Object(de.jsx)(ve.a,{children:"Psyker"})}),c.specialist&&Object(de.jsx)(oe.a.Item,{children:Object(de.jsx)(ve.a,{children:"Specialist Reinforcements"})}),Object(de.jsx)(oe.a.Item,{children:Object(de.jsxs)(ve.a,{children:["Power Rating:",Object(de.jsx)(ve.a.Detail,{children:i})]})}),Object(de.jsx)(oe.a.Item,{children:Object(de.jsxs)(ve.a,{children:["Crusade Points:",Object(de.jsx)(ve.a.Detail,{children:s})]})}),Object(de.jsx)(oe.a.Item,{children:Object(de.jsxs)(ve.a,{children:["Rank:",Object(de.jsx)(ve.a.Detail,{children:h})]})})]})})}),Object(de.jsx)(me.a.Content,{extra:!0,children:Object(de.jsx)(me.a.Description,{children:Object(de.jsxs)(O.a.Group,{children:[Object(de.jsx)(O.a,{icon:"expand",onClick:function(){return g(!0)}}),Object(de.jsx)(O.a,{icon:"edit",onClick:function(){T(ce({page:"EDIT",editId:c.id}))}}),Object(de.jsx)(O.a,{icon:"clone",onClick:function(){var e=Object(ge.a)(Object(ge.a)({},c),{},{id:Object(ue.a)()});c.relic||c.trait||c.specialist?C(!0):T(q(e))}}),Object(de.jsx)(Oe.a,{size:"tiny",position:"top center",on:"click",content:Object(de.jsx)(O.a,{size:"small",compact:!0,negative:!0,onClick:function(){T(D(c.id))},children:"Confirm Delete"}),trigger:Object(de.jsx)(O.a,{negative:!0,icon:"delete"})})]})})}),Object(de.jsx)(we.a,{size:"tiny",open:w,content:"You cannot duplicate a unit with a Relic, Warlord Trait, or Specialist Reinforcements",actions:["OK"],onActionClick:function(){return C(!1)},onOpen:function(){return C(!0)},onClose:function(){return C(!1)},closeOnDocumentClick:!0}),Object(de.jsxs)(we.a,{open:m,closeIcon:!0,onActionClick:function(){return g(!1)},onOpen:function(){return g(!0)},onClose:function(){return g(!1)},closeOnDocumentClick:!0,children:[Object(de.jsx)(we.a.Header,{children:r}),Object(de.jsxs)(we.a.Content,{image:!0,scrolling:!0,children:[Object(de.jsx)(ye.a,{src:S,size:"small",wrapped:!0}),Object(de.jsx)(we.a.Description,{children:Object(de.jsx)(d.a,{stackable:!0,children:Object(de.jsxs)(d.a.Row,{columns:2,divided:!0,children:[Object(de.jsx)(d.a.Column,{children:Object(de.jsxs)(oe.a,{divided:!0,size:"large",children:[Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Unit Type"}),Object(de.jsx)(oe.a.Description,{children:l})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Unit Role"}),Object(de.jsx)(oe.a.Description,{children:u})]}),j&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Character"}),Object(de.jsx)(oe.a.Description,{children:"This unit is a Character"})]}),c.trait&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Warlord Trait"}),Object(de.jsx)(oe.a.Description,{children:c.trait})]}),c.relic&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Relics"}),Object(de.jsx)(oe.a.Description,{children:c.relic})]}),b&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Psyker"}),Object(de.jsx)(oe.a.Description,{children:"This unit is a Psyker"})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Power Rating"}),Object(de.jsx)(oe.a.Description,{children:i})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Model Count"}),Object(de.jsx)(oe.a.Description,{children:c.models})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Crusade Points"}),Object(de.jsx)(oe.a.Description,{children:s})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Experience Points"}),Object(de.jsx)(oe.a.Description,{children:c.xp})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Unit Rank"}),Object(de.jsx)(oe.a.Description,{children:h})]})]})}),Object(de.jsx)(d.a.Column,{children:Object(de.jsxs)(oe.a,{divided:!0,size:"large",children:[Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Keywords"}),Object(de.jsx)(oe.a.Description,{children:c.keywords})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Equipment"}),Object(de.jsx)(oe.a.Description,{children:c.equipment})]}),b&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Psychic Powers"}),Object(de.jsx)(oe.a.Description,{children:c.psychic})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Upgrades and Abilities"}),Object(de.jsx)(oe.a.Description,{children:c.others})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Battles Fought"}),Object(de.jsx)(oe.a.Description,{children:c.battlesFought})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Battles Survived"}),Object(de.jsx)(oe.a.Description,{children:c.battlesSurvived})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Enemies Destroyed"}),Object(de.jsx)(oe.a.Description,{children:c.enemiesDestroyed})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Battle Honours"}),Object(de.jsx)(oe.a.Description,{children:c.bh?c.bh:"None"})]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Battle Scars"}),Object(de.jsx)(oe.a.Description,{children:c.bs?c.bs:"None"})]}),c.specialist&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Specialist Reinforcements"}),Object(de.jsx)(oe.a.Description,{children:"This unit has been given Specialist Reinforcements"})]}),c.notes&&Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)(oe.a.Header,{children:"Notes"}),Object(de.jsx)(oe.a.Description,{children:c.notes})]})]})})]})})})]}),Object(de.jsx)(we.a.Actions,{children:Object(de.jsx)(O.a,{content:"Close",onClick:function(){return g(!1)}})})]})]})},Se={paddingBottom:10},Te=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.pages.currentListId})),a=Object(x.c)((function(e){return z(e,t)})),n=1===a.length?"":"s";return Object(de.jsxs)(u.a,{children:[Object(de.jsxs)(r.a,{children:["Crusade Cards (",a.length," Unit",n,")"]}),a.length>0&&Object(de.jsx)(me.a.Group,{style:Se,stackable:!0,itemsPerRow:"4",children:a.map((function(e){return Object(de.jsx)(Ce,{id:e},e)}))}),Object(de.jsx)(O.a,{onClick:function(){e(ne("ADD"))},content:"Add New Unit"})]})},Ie=function(e){var t=e.listId,a=Object(x.c)((function(e){return A(e,t)})),n=a.playerName,c=a.forceName,r=a.faction,i=a.supplyTotal,s=a.id,l=a.crusadeTotal,o=Object(x.c)((function(e){return z(e,t)})),u=1===o.length?"":"s",d=Object(x.b)();return Object(de.jsxs)(me.a,{raised:!0,children:[Object(de.jsxs)(me.a.Content,{children:[Object(de.jsx)(me.a.Header,{textAlign:"left",content:c}),Object(de.jsx)(me.a.Meta,{textAlign:"left",content:n}),Object(de.jsxs)(me.a.Description,{textAlign:"left",children:[r," Force"]})]}),Object(de.jsx)(me.a.Content,{textAlign:"left",extra:!0,children:Object(de.jsxs)(oe.a,{children:[Object(de.jsx)(oe.a.Item,{children:Object(de.jsxs)(ve.a,{children:["Power Rating:",Object(de.jsx)(ve.a.Detail,{children:i})]})}),Object(de.jsx)(oe.a.Item,{children:Object(de.jsxs)(ve.a,{children:["Unit",u,Object(de.jsx)(ve.a.Detail,{children:o.length})]})}),Object(de.jsx)(oe.a.Item,{children:Object(de.jsxs)(ve.a,{children:["Crusade Points:",Object(de.jsx)(ve.a.Detail,{children:l})]})})]})}),Object(de.jsx)(me.a.Content,{children:Object(de.jsxs)(O.a.Group,{fluid:!0,widths:"2",children:[Object(de.jsx)(O.a,{icon:"edit",content:"Edit",onClick:function(){d(re({page:"MAIN",currentListId:s}))}}),Object(de.jsx)(Oe.a,{size:"tiny",position:"top center",on:"click",content:Object(de.jsx)(O.a,{size:"small",compact:!0,negative:!0,onClick:function(){d(L(o)),d(S(s))},children:"Confirm Delete"}),trigger:Object(de.jsx)(O.a,{content:"Delete",negative:!0,icon:"delete"})})]})})]})},ke=function(){var e=Object(x.b)(),t=Object(x.c)(R),a=Object(ue.a)();return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(u.a,{children:Object(de.jsx)(r.a,{children:"Crusade Forces"})}),t.length>=1&&Object(de.jsx)(u.a,{children:Object(de.jsx)(me.a.Group,{stackable:!0,itemsPerRow:"4",children:t.map((function(e){return Object(de.jsx)(Ie,{listId:e.id},e.id)}))})}),Object(de.jsx)(O.a,{content:"Add New Force",onClick:function(){var t={id:a,supplyLimit:50,requisition:5,battlesFought:0,battlesWon:0,forceName:"",playerName:"",faction:"",notes:""};e(C(t)),e(re({page:"MAIN",currentListId:a}))}}),Object(de.jsx)(O.a,{content:"Battle Setup",onClick:function(){return e(ne("BATTLESETUP"))}}),Object(de.jsx)(O.a,{content:"Battle History",onClick:function(){return e(ne("BATTLEHISTORY"))}})]})},Re=a(126),Ae=a(213),Be=Object(f.b)(),Ne=Be.getInitialState(),Fe=Object(f.c)({name:"battles",initialState:Ne,reducers:{saveBattle:Be.upsertOne,deleteBattle:Be.removeOne,deleteManyBattles:Be.removeMany}}),Pe=Fe.actions,qe=Pe.saveBattle,De=(Pe.deleteBattle,Pe.deleteManyBattles,Fe.reducer),Le=Be.getSelectors((function(e){return e.battles})),He=Le.selectAll,Ue=Le.selectById,Ee=(Object(m.a)(He,(function(e){return e.map((function(e){return e.id}))})),Object(m.a)(He,A,(function(e,t){return e.filter((function(e){return e.list===t.id}))}))),Ve=(Object(m.a)(Ee,(function(e){return e.map((function(e){return e.id}))})),{combatPatrol:[{text:"Sweep and Clear",value:"Sweep and Clear",reward:"The Victor can select 2 units from their army to be Marked for Greatness after the battle instead of the normal 1"},{text:"Supply Drop",value:"Supply Drop",reward:"The Victor gains 2 Requisition Points after this battle instead of 1"},{text:"Assassinate",value:"Assassinate",reward:"The Victor selects 1 unit to get a bonus Battle Trait of their choice (following all rules for Battle Honours)"}],incursion:[{text:"Supply Cache",value:"Supply Cache",reward:"The Victor gains 2 Requisition Points after this battle instead of 1"},{text:"The Relic",value:"The Relic",reward:"The Victor selects 1 Character to get a bonus Crusade Relic of their choice (following all rules for Battle Honours)"},{text:"Sabotage",value:"Sabotage",reward:"As Defender: Gain 1 free use of Increase Supply Limit and 1 free use of Rearm and Resupply requisitions. \n As Attacker: The Victor selects 1 (non-character, non-vehicle, non-monster) unit to get a bonus Battle Trait of their choice (following all rules for Battle Honours) "},{text:"Recon Patrol",value:"Recon Patrol",reward:"The Victor can select 2 units from their army to be Marked for Greatness after the battle instead of the normal 1"},{text:"The Ritual",value:"The Ritual",reward:"As Defender: Their Warlord gains 1 Battle Trait of their choice (or, if the Warlord is a Psyker, 1 Psychic Fortitude), following all normal rules for Battle Honours. \n As Attacker: Select 1 unit to get a bonus Battle Trait of their choice (following all rules for Battle Honours)"},{text:"Behind Enemy Lines",value:"Behind Enemy Lines",reward:"The Victor selects 1 unit that has exfiltrated from the battlefield to get 1 Battle Trait of their choice (following all rules for Battle Honours)"}],strikeForce:[{text:"Supplies from Above",value:"Supplies from Above",reward:"The Victor gains 2 Requisition Points after this battle instead of 1"},{text:"Narrow the Search",value:"Narrow the Search",reward:"The Victor selects 1 unit to get a bonus Weapon Enhancement of their choice (following all rules for Battle Honours)"},{text:"Cut Off the Head",value:"Cut Off the Head",reward:"The Victor selects 1 Character unit from their army to get a bonus Warlord Trait (following all rules for Battle Honours)"},{text:"Retrieval",value:"Retrieval",reward:"As Defender: Add 1 new Character to their Order of Battle with a free Warlord Trait, Relic, or Specialist Reinforcement (Provided they have sufficient Supply and following all rules for Battle Honours). \n As Attacker: Select 1 Character to get a bonus Crusade Relic of their choice (following all rules for Battle Honours)"},{text:"Raze and Ruin",value:"Raze and Ruin",reward:"The Victor gains 2 free uses of Increase Supply Limit"},{text:"Ambush",value:"Ambush",reward:"The Victor selects 1 unit to get a bonus Battle Trait of their choice (following all rules for Battle Honours)"}],onslaught:[{text:"Firestorm",value:"Firestorm",reward:"The Victor gains 2 Requisition Points after this battle instead of 1"},{text:"Grand Assault",value:"Grand Assault",reward:"The Victor selects 1 unit to get a bonus Battle Trait of their choice (following all rules for Battle Honours)"},{text:"Field of Glory",value:"Field of Glory",reward:"The Victor's Warlord gains 1 free Battle Honour of their choice (following all rules for Battle Honours)"}]}),Ge={paddingBottom:10,paddingTop:10},Me=[{text:"Combat Patrol",value:"combatPatrol",size:25},{text:"Incursion",value:"incursion",size:50},{text:"Strike Force",value:"strikeForce",size:100},{text:"Onslaught",value:"onslaught",size:150}],ze=[{text:"Player One",value:"playerOne"},{text:"Player Two",value:"playerTwo"}],We=function(){var e=Object(x.b)(),t=Object(x.c)(R),a=Object(x.c)(V),c=Object(n.useState)(""),s=Object(o.a)(c,2),l=s[0],b=s[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),m=f[0],g=f[1],y=Object(n.useState)([]),v=Object(o.a)(y,2),w=v[0],C=v[1],S=Object(n.useState)(""),I=Object(o.a)(S,2),k=I[0],A=I[1],B=Object(n.useState)(""),N=Object(o.a)(B,2),F=N[0],P=N[1],q=Object(n.useState)(""),D=Object(o.a)(q,2),L=D[0],H=D[1],U=Object(n.useState)(""),E=Object(o.a)(U,2),G=E[0],M=E[1],z=Object(n.useState)(""),W=Object(o.a)(z,2),X=W[0],Y=W[1],K=Object(n.useState)(""),Q=Object(o.a)(K,2),J=Q[0],_=Q[1],Z=Object(n.useState)([]),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ce=Object(o.a)(ae,2),re=ce[0],se=ce[1],le=Object(n.useState)(""),je=Object(o.a)(le,2),be=je[0],he=je[1],Oe=Object(n.useState)(""),pe=Object(o.a)(Oe,2),xe=pe[0],fe=pe[1],me=Object(n.useState)(""),ge=Object(o.a)(me,2),ye=ge[0],ve=ge[1],we=Object(n.useState)(!1),Ce=Object(o.a)(we,2),Se=Ce[0],Te=Ce[1],Ie=Object(n.useState)(""),ke=Object(o.a)(Ie,2),Be=ke[0],Ne=ke[1],Fe=Object(n.useState)(""),Pe=Object(o.a)(Fe,2),De=Pe[0],Le=Pe[1],He=Object(n.useState)(""),Ue=Object(o.a)(He,2),Ee=Ue[0],We=Ue[1],Xe=Object(n.useState)(""),Ye=Object(o.a)(Xe,2),Ke=Ye[0],Qe=Ye[1],Je=Object(n.useState)(""),_e=Object(o.a)(Je,2),Ze=_e[0],$e=_e[1],et=Object(n.useState)(""),tt=Object(o.a)(et,2),at=tt[0],nt=tt[1],ct=Object(n.useState)(!1),rt=Object(o.a)(ct,2),it=rt[0],st=rt[1],lt=(Ke?Me.find((function(e){return e.value===Ke})):"0").size,ot=(Ee&&Ke?Ve[Ke].find((function(e){return e.value===Ee})):"").reward,ut=w.reduce((function(e,t){return e+parseInt(t.power)}),0),dt=ee.reduce((function(e,t){return e+parseInt(t.power)}),0),jt=k===re?"draw":k>re?"playerOne":"playerTwo",bt=t.reduce((function(e,t){return t.forceName!==J&&e.push({text:t.forceName,value:{forceName:t.forceName,id:t.id,battlesFought:t.battlesFought,wins:t.battlesWon,req:t.requisition},key:t.id,content:Object(de.jsx)(r.a,{content:t.forceName,subheader:t.playerName})}),e}),[]),ht=t.reduce((function(e,t){return t.forceName!==l&&e.push({text:t.forceName,value:{forceName:t.forceName,id:t.id,battlesFought:t.battlesFought,wins:t.battlesWon,req:t.requisition},key:t.id,content:Object(de.jsx)(r.a,{content:t.forceName,subheader:t.playerName})}),e}),[]),Ot=m?a.filter((function(e){return e.list===m})):[],pt=X?a.filter((function(e){return e.list===X})):[],xt=function(){return"Supply Drop"===Ee||"Supply Cache"===Ee||"Supplies from Above"===Ee||"Firestorm"===Ee?2:1},ft=function(){if(Se){var t={id:Object(ue.a)(),playerTwoTracked:Se,mission:Ee,battleSize:Ke,playerOneListName:l,playerOneListId:m,playerOneSelectedUnits:w,playerOneVP:k,playerTwoListName:J,playerTwoListId:X,playerTwoSelectedUnits:ee,playerTwoVP:re,battleDate:Ze,winner:jt,defender:Be,battleName:at,gameNotes:De};"playerOne"===jt?(e(T({id:m,changes:{battlesWon:L+1,battlesFought:F+1,requisition:parseInt(G)+xt()}})),e(T({id:X,changes:{battlesFought:be+1,requisition:parseInt(ye)+1}}))):"playerTwo"===jt?(e(T({id:X,changes:{battlesWon:xe+1,battlesFought:be+1,requisition:parseInt(ye)+xt()}})),e(T({id:m,changes:{battlesFought:F+1,requisition:parseInt(G)+1}}))):"draw"===jt&&(e(T({id:m,changes:{battlesFought:F+1,requisition:parseInt(G)+1}})),e(T({id:X,changes:{battlesFought:be+1,requisition:parseInt(ye)+1}}))),"Raze and Ruin"===Ee&&"playerOne"===jt?e(T({id:m,changes:{supplyRewards:2}})):"Raze and Ruin"===Ee&&"playerTwo"===jt?e(T({id:X,changes:{supplyRewards:2}})):"Sabotage"===Ee&&"playerOne"===jt&&jt===Be?e(T({id:m,changes:{supplyRewards:1}})):"Sabotage"===Ee&&"playerTwo"===jt&&jt===Be&&e(T({id:X,changes:{supplyRewards:1}})),e(qe(t)),e(ie({page:"BATTLERES",battle:t.id}))}else{var a={id:Object(ue.a)(),playerTwoTracked:Se,mission:Ee,battleSize:Ke,playerOneListName:l,playerOneListId:m,playerOneSelectedUnits:w,playerOneVP:k,playerTwoVP:re,battleDate:Ze,winner:jt,defender:Be,battleName:at,gameNotes:De};e(T("playerOne"===jt?{id:m,changes:{battlesWon:L+1,battlesFought:F+1,requisition:parseInt(G)+xt()}}:{id:m,changes:{battlesFought:F+1,requisition:parseInt(G)+1}})),"Raze and Ruin"===Ee&&"playerOne"===jt?e(T({id:m,changes:{supplyRewards:2}})):"Sabotage"===Ee&&"playerOne"===jt&&jt===Be&&e(T({id:m,changes:{supplyRewards:1}})),e(qe(a)),e(ie({page:"BATTLERES",battle:a.id}))}};return Object(de.jsxs)(de.Fragment,{children:[it&&Object(de.jsx)(h.a,{warning:!0,onDismiss:function(){return st(!1)},content:"Please ensure you have selected units"}),Object(de.jsxs)(u.a,{children:[Object(de.jsxs)(j.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(de.jsx)(j.a.Input,{required:!0,fluid:!0,label:"Battle Name",onChange:function(e){return nt(e.target.value)},placeholder:'e.g., "The Battle for Holy Terra"'}),Object(de.jsx)(j.a.Radio,{toggle:!0,label:"Track Both Forces",value:Se,onChange:function(e,t){return function(e){e?Te(e):(Te(e),Y(""),_(""),te([]))}(t.checked)}}),Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Select,{required:!0,clearable:!0,options:bt,label:"Player One Force",fluid:!0,onChange:function(e,t){return function(e){b(e.forceName),g(e.id),P(e.battlesFought),H(e.wins),M(e.req)}(t.value)}}),Se&&Object(de.jsx)(j.a.Select,{clearable:!0,options:ht,label:"Player Two Force",fluid:!0,onChange:function(e,t){return function(e){_(e.forceName),Y(e.id),he(e.battlesFought),fe(e.wins),ve(e.req)}(t.value)}})]}),Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Select,{required:!0,fluid:!0,label:"Battle Size",clearable:!0,options:Me,onChange:function(e,t){return function(e){We(""),Qe(e)}(t.value)}}),Object(de.jsx)(j.a.Select,{required:!0,fluid:!0,label:"Mission",clearable:!0,options:Ve[Ke],onChange:function(e,t){var a=t.value;return We(a)}})]}),Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Select,{required:!0,fluid:!0,label:"Defender",clearable:!0,options:ze,onChange:function(e,t){var a=t.value;return Ne(a)}}),Object(de.jsx)(j.a.Input,{required:!0,fluid:!0,type:"date",label:"Battle Date",onChange:function(e){return $e(e.target.value)}})]})]}),Object(de.jsxs)(i.a,{text:!0,style:Ge,children:[Object(de.jsx)(r.a,{content:"Mission Rewards"}),Object(de.jsx)("p",{className:"messageText lineBreak",children:ot})]})]}),Object(de.jsxs)(u.a,{children:[Object(de.jsx)(r.a,{children:Se?"Army Rosters":"Army Roster"}),Object(de.jsx)(d.a,{stackable:!0,children:Object(de.jsxs)(d.a.Row,{centered:!0,columns:"equal",children:[Object(de.jsx)(d.a.Column,{children:Object(de.jsxs)(u.a,{children:[l&&Object(de.jsxs)(r.a,{textAlign:"center",color:ut>lt?"red":"black",children:[l,Object(de.jsxs)(r.a.Subheader,{color:ut>lt?"red":"black",textAlign:"center",as:"h4",children:["Power Total: ",ut," \\ ",lt||0]})]}),Object(de.jsx)(oe.a,{divided:!0,children:Ot.map((function(e){return Object(de.jsxs)(oe.a.Item,{id:e.id,children:[Object(de.jsx)(oe.a.Content,{floated:"right",children:Object(de.jsx)(Ae.a,{onClick:function(t,a){return function(e,t){C(e?[].concat(Object(Re.a)(w),[t]):w.filter((function(e){return e!==t})))}(a.checked,e)},toggle:!0})}),Object(de.jsxs)(oe.a.Content,{children:[Object(de.jsx)(oe.a.Header,{children:e.name}),Object(de.jsxs)(oe.a.Description,{children:["Type: ",e.type," - Role: ",e.role," - Power Rating: ",e.power]})]})]},e.id)}))})]})}),Se&&Object(de.jsx)(d.a.Column,{children:Object(de.jsxs)(u.a,{children:[J&&Object(de.jsxs)(r.a,{textAlign:"center",color:dt>lt?"red":"black",children:[J,Object(de.jsxs)(r.a.Subheader,{color:dt>lt?"red":"black",textAlign:"center",as:"h4",children:["Power Total: ",dt," \\ ",lt||0]})]}),Object(de.jsx)(oe.a,{divided:!0,children:pt.map((function(e){return Object(de.jsxs)(oe.a.Item,{id:e.id,children:[Object(de.jsx)(oe.a.Content,{floated:"right",children:Object(de.jsx)(Ae.a,{onClick:function(t,a){return function(e,t){te(e?[].concat(Object(Re.a)(ee),[t]):ee.filter((function(e){return e!==t})))}(a.checked,e)},toggle:!0})}),Object(de.jsxs)(oe.a.Content,{children:[Object(de.jsx)(oe.a.Header,{children:e.name}),Object(de.jsxs)(oe.a.Description,{children:["Type: ",e.type," - Role: ",e.role," - Power Rating: ",e.power]})]})]})}))})]})})]})})]}),Object(de.jsx)(u.a,{children:Object(de.jsxs)(j.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(de.jsxs)(j.a.Group,{widths:"equal",children:[Object(de.jsx)(j.a.Input,{required:!0,label:"Player One Victory Points",min:"0",max:"100",type:"number",value:k,onChange:function(e){return A(e.target.value)}}),Object(de.jsx)(j.a.Input,{required:!0,label:"Player Two Victory Points",min:"0",max:"100",type:"number",value:re,onChange:function(e){return se(e.target.value)}})]}),Object(de.jsx)(j.a.TextArea,{label:"Game Notes",placeholder:"Add any extra notes about the game here",value:De,onChange:function(e){return Le(e.target.value)}})]})}),Object(de.jsx)(O.a,{content:"Back",onClick:function(){return e(ne("FRONT"))}}),Object(de.jsx)(O.a,{positive:!0,content:"Record Battle",onClick:function(){!Se||0!==w.length&&0!==ee.length?0===w.length?st(!0):ft():st(!0)}})]})},Xe=function(e){var t=e.unit,a=Object(x.b)(),c=t.name,r=t.type,i=t.xp,s=t.battlesFought,l=t.battlesSurvived,u=t.enemiesDestroyed,d=t.id,b=Object(n.useState)(0),h=Object(o.a)(b,2),p=h[0],f=h[1],m=Object(n.useState)(0),g=Object(o.a)(m,2),y=g[0],v=g[1],w=Object(n.useState)(!1),C=Object(o.a)(w,2),S=C[0],T=C[1],I=Object(n.useState)(!1),k=Object(o.a)(I,2),R=k[0],A=k[1],B=Object(n.useState)(!0),N=Object(o.a)(B,2),F=N[0],P=N[1],q=Math.floor((parseInt(y)+parseInt(u))/3)-Math.floor(parseInt(u)/3),D=function(){var e=1;return S?e=0+parseInt(p):e+=R?3+parseInt(p)+q:parseInt(p)+q,e};return Object(de.jsx)(de.Fragment,{children:F?Object(de.jsxs)(me.a,{raised:!0,children:[Object(de.jsxs)(me.a.Content,{children:[Object(de.jsx)(me.a.Header,{content:c}),Object(de.jsx)(me.a.Description,{children:r})]}),Object(de.jsx)(me.a.Content,{children:Object(de.jsxs)(j.a,{children:[Object(de.jsxs)(j.a.Group,{children:[Object(de.jsx)(j.a.Input,{label:"Enemies Destroyed",value:y,type:"number",min:"0",max:"100",onChange:function(e){return v(e.target.value)}}),Object(de.jsx)(j.a.Input,{label:S?"XP Lost from Devastating Blow":"XP Earned in Battle",value:p,type:"number",min:S?"-6":"0",max:S?"0":"100",onChange:function(e){return f(e.target.value)}})]}),Object(de.jsxs)(j.a.Group,{children:[Object(de.jsx)(j.a.Checkbox,{label:"Unit Destroyed?",onChange:function(e,t){var a=t.checked;return T(a)}}),Object(de.jsx)(j.a.Checkbox,{label:"Marked for Greatness",onChange:function(e,t){var a=t.checked;return A(a)}})]})]})}),Object(de.jsx)(me.a.Content,{children:Object(de.jsxs)(oe.a,{children:[Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)("strong",{children:"Current XP"}),": ",i]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)("strong",{children:"XP Gain"}),": ",D()]}),Object(de.jsxs)(oe.a.Item,{children:[Object(de.jsx)("strong",{children:"Existing Kill Count"}),": ",u]})]})}),Object(de.jsx)(me.a.Content,{children:Object(de.jsx)(O.a,{fluid:!0,content:"Save Unit",onClick:function(){return a(H({id:d,changes:{xp:parseInt(i)+D(),battlesFought:parseInt(s)+1,battlesSurvived:S?l:parseInt(l)+1,enemiesDestroyed:parseInt(u)+parseInt(y)}})),void P(!F)}})})]}):Object(de.jsx)(me.a,{children:Object(de.jsx)(me.a.Content,{children:Object(de.jsx)(me.a.Header,{children:"Unit Saved"})})})})},Ye={paddingBottom:10},Ke=function(e){var t=e.battleId,a=Object(x.b)(),n=Object(x.c)((function(e){return Ue(e,t)}));return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(u.a,{textAlign:"left",children:[n.playerTwoTracked&&Object(de.jsx)(r.a,{content:"Player One Units"}),Object(de.jsx)(me.a.Group,{stackable:!0,style:Ye,itemsPerRow:"4",children:n.playerOneSelectedUnits.map((function(e){return Object(de.jsx)(Xe,{unit:e},e.id)}))})]}),n.playerTwoTracked&&Object(de.jsxs)(u.a,{textAlign:"left",children:[Object(de.jsx)(r.a,{content:"Player Two Units"}),Object(de.jsx)(me.a.Group,{stackable:!0,style:Ye,itemsPerRow:"4",children:n.playerTwoSelectedUnits.map((function(e){return Object(de.jsx)(Xe,{unit:e},e.id)}))})]}),Object(de.jsx)(O.a,{content:"Finalise Battle",onClick:function(){a(ne("FRONT"))}})]})},Qe=a(142),Je=a(135).default,_e=function(e){var t=e.battle,a=Object(x.c)((function(e){return A(e,t.playerOneListId)})),n=Object(x.c)((function(e){return A(e,t.playerTwoListId)}));return Object(de.jsxs)(me.a,{raised:!0,children:[Object(de.jsxs)(me.a.Content,{children:[Object(de.jsx)(me.a.Header,{children:t.battleName}),Object(de.jsx)(me.a.Meta,{children:t.battleDate})]}),Object(de.jsx)(me.a.Content,{children:Object(de.jsx)(d.a,{children:Object(de.jsxs)(d.a.Row,{columns:"equal",verticalAlign:"middle",children:[Object(de.jsxs)(d.a.Column,{children:[Object(de.jsx)(r.a,{content:t.playerOneListName,subheader:a?a.playerName:""}),Object(de.jsx)("p",{children:a?a.faction:""})]}),Object(de.jsx)(d.a.Column,{children:Object(de.jsx)(ye.a,{src:Je,size:"mini"})}),Object(de.jsxs)(d.a.Column,{children:[Object(de.jsxs)(r.a,{children:[t.playerTwoTracked?t.playerTwoListName:"Unknown Foe",Object(de.jsx)(r.a.Subheader,{children:t.playerTwoTracked&&n?n.playerName:""})]}),Object(de.jsx)("p",{children:t.playerTwoTracked&&n?n.faction:""})]})]})})}),Object(de.jsx)(me.a.Content,{children:Object(de.jsxs)(d.a,{children:[Object(de.jsxs)(d.a.Row,{columns:"equal",verticalAlign:"top",children:[Object(de.jsxs)(d.a.Column,{children:[Object(de.jsx)(r.a,{children:"Battle Size"}),Object(de.jsx)("p",{children:Object(Qe.startCase)(t.battleSize)})]}),Object(de.jsxs)(d.a.Column,{children:[Object(de.jsx)(r.a,{children:"Mission"}),Object(de.jsx)("p",{children:t.mission})]}),Object(de.jsxs)(d.a.Column,{children:[Object(de.jsx)(r.a,{children:"Victor"}),Object(de.jsx)("p",{children:"playerOne"===t.winner?t.playerOneListName:t.playerTwoListName})]})]}),Object(de.jsxs)(d.a.Row,{columns:"equal",children:[Object(de.jsxs)(d.a.Column,{children:[Object(de.jsxs)(r.a,{children:[t.playerOneListName," Victory Points"]}),Object(de.jsx)("p",{children:t.playerOneVP})]}),Object(de.jsxs)(d.a.Column,{children:[Object(de.jsxs)(r.a,{children:[t.playerTwoTracked?t.playerTwoListName:"Unknown Foe"," Victory Points"]}),Object(de.jsx)("p",{children:t.playerTwoVP})]})]}),Object(de.jsx)(d.a.Row,{children:Object(de.jsx)(i.a,{text:!0,children:Object(de.jsx)("p",{children:t.gameNotes})})})]})})]})},Ze={paddingBottom:10},$e=function(){var e=Object(x.b)(),t=Object(x.c)(He);return Object(de.jsxs)(u.a,{children:[Object(de.jsx)(me.a.Group,{stackable:!0,itemsPerRow:2,style:Ze,children:t.map((function(e){return Object(de.jsx)(_e,{battle:e},e.id)}))}),Object(de.jsx)(O.a,{content:"Back",onClick:function(){return e(ne("FRONT"))}})]})},et={FRONT:{title:"Warhammer 40,000 Crusade Tracker",content:'Each page has a help message like this one that can be minimised. \n This page shows all Crusade Forces you have created. You can click "Add New Force" to create a new one. \n The Battle Setup button takes you to the Battle Setup allowing you to track any battles that your Forces have fought. \n The Battle History button takes you to a log of Battles fought.'},MAIN:{title:"Crusade Force",content:"Enter your Crusade Force details here. \n Use the Requisition Log to enter requisitions that your Crusade Force has used. Currently this is done manually because of the large number of requisitions that exist in the rules and various codices. \n Your Crusade Units will appear as cards with some details and they can be expanded to show more."},ADD:{title:"Add a Unit",content:"Enter the details of a unit here. \n This page allows for pre-existing units to be added to a Force (i.e., if you are converting a Force tracked elsewhere) however any battles they have fought will not be tracked. \n The Unit Name, Type, Role, and Power Rating are required fields. \n Rank is automatically adjusted based on Experience Points and will be updated after battles."},BATTLESETUP:{title:"Battle Setup",content:"This page contains the setup for a battle. If both player's Crusade Forces are tracked using this site, you can use the toggle to include them both in the battle. \n Mission rewards that grant additional Requisition are added automatically, and rewards that grant free uses of Increase Supply Limit can be claimed on the Crusade Force page. All others need to be manually added. \n When you select your Crusade Force a list of units will appear in the Army Roster section. Check the box next to the unit to add it to the battle. Updating their Crusade Cards happens on the next page."},BATTLERES:{title:"Battle Resolution",content:"All units listed below will gain 1XP for participating in the battle. The XP gain from destroying enemies will be also be calculated based on the number entered. \n Enter any additional XP gains from Agendas or other bonuses in the XP field. If a unit is destroyed during the battle check that checkbox, and if they recieve a Devastating Blow as a result, enter the XP loss in this field. \n If a unit is Marked for Greatness check the box and the bonus XP will be added. \n Currently each unit must be individually saved before clicking Finalise Battle"},EDIT:{title:"Edit a Unit",content:"You can edit an existing unit. Adding Relics, Traits, or Specialist Reinforcements to an existing unit will not cost Requisition Points. These must be added in the Requisition Log."},BATTLEHISTORY:{title:"Battle History",content:"Below is a list of Battles fought"}},tt=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.pages}));return Object(de.jsxs)("div",{className:"App",children:[Object(de.jsx)("div",{className:"App-header",children:Object(de.jsx)(r.a,{inverted:!0,as:"h1",children:"Crusade Tracker"})}),Object(de.jsxs)(i.a,{children:[Object(de.jsxs)(s.a,{styled:!0,fluid:!0,children:[Object(de.jsxs)(s.a.Title,{active:t.help,onClick:function(){return e(se())},children:[Object(de.jsx)(l.a,{name:"dropdown"}),et[t.page].title]}),Object(de.jsx)(s.a.Content,{active:t.help,className:"lineBreak messageText",children:et[t.page].content})]}),function(){switch(t.page){case"FRONT":return Object(de.jsx)(ke,{});case"MAIN":return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(he,{listId:t.currentListId}),Object(de.jsx)(Te,{})]});case"ADD":return Object(de.jsx)(fe,{});case"BATTLESETUP":return Object(de.jsx)(We,{});case"BATTLERES":return Object(de.jsx)(Ke,{battleId:t.battle});case"BATTLEHISTORY":return Object(de.jsx)($e,{});case"EDIT":return Object(de.jsx)(fe,{unitId:t.editId});default:return null}}()]})]})},at=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,214)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},nt=a(143),ct=a.n(nt),rt=a(21),it=a(110),st=a(83),lt=Object(rt.b)({units:U,lists:I,pages:le,requisitions:_,battles:De}),ot={key:"root",storage:ct.a},ut=Object(it.a)(ot,lt),dt=Object(f.a)({reducer:ut,devTools:!0,middleware:function(e){return e().concat(st.a)}}),jt=a(144),bt=Object(it.b)(dt);Object(c.render)(Object(de.jsx)(x.a,{store:dt,children:Object(de.jsx)(jt.a,{loading:null,persistor:bt,children:Object(de.jsx)(tt,{})})}),document.getElementById("root")),at()}},[[182,1,2]]]);
//# sourceMappingURL=main.f6786867.chunk.js.map